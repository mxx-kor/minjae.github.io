<!DOCTYPE html><html lang="ko" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:locale" content="ko-KR"/><meta property="og:site_name" content="minjae blog"/><meta name="author" content="Minjae Kim"/><title>JS module 그리고 CJS와 ESM의 차이</title><meta name="robots" content="index,follow"/><meta name="description" content="require, import 뭐가 다른지, 여러 오류를 통해 함께 살펴보자."/><meta property="og:title" content="JS module 그리고 CJS와 ESM의 차이"/><meta property="og:description" content="require, import 뭐가 다른지, 여러 오류를 통해 함께 살펴보자."/><meta property="og:url" content="https://mxx-kor.github.io/blog/module-cjs-esm"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-10-26T07:22:00.000Z"/><meta property="article:modified_time" content="2024-02-19T12:21:00.000Z"/><meta property="article:author" content="https://github.com/mxx-kor"/><meta property="article:tag" content="JavaScript"/><meta property="article:tag" content="module"/><meta property="og:image" content="https://avatars.githubusercontent.com/u/82329983?v=4"/><meta property="og:image:width" content="285"/><meta property="og:image:height" content="167"/><link rel="canonical" href="https://mxx-kor.github.io/blog/module-cjs-esm"/><meta name="next-head-count" content="21"/><meta name="google-site-verification" content="XJtOBpU5U3tModhdmzxqFas0xo0_saGhnWxPEAC-NHk"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/de5f35e2b8d4bc52-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/91d855b67a63e74f-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/ae11f023272d3641-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/bff605305ca72295-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/0bb6dc123aa42fb6-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/61cc7115f3689ea3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/61cc7115f3689ea3.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3236e1a678526afc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3236e1a678526afc.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script defer="" src="/_next/static/chunks/3607272e.2e699c1bc0d79620.js"></script><script defer="" src="/_next/static/chunks/853.cf688abe519004d8.js"></script><script defer="" src="/_next/static/chunks/794.2b85bc94a9efc2f7.js"></script><script src="/_next/static/chunks/webpack-67524068141b916b.js" defer=""></script><script src="/_next/static/chunks/framework-305cb810cde7afac.js" defer=""></script><script src="/_next/static/chunks/main-34577be56dd3d97c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a92c6c5f9eb7f8c3.js" defer=""></script><script src="/_next/static/chunks/239-569a8cd56c4de129.js" defer=""></script><script src="/_next/static/chunks/551-b3fc15b50b249083.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-12e204b17f2da5c2.js" defer=""></script><script src="/_next/static/gyZObJThR8qBbFM1GzSbz/_buildManifest.js" defer=""></script><script src="/_next/static/gyZObJThR8qBbFM1GzSbz/_ssgManifest.js" defer=""></script><style id="__jsx-399773665">:root{--font-sans:'__Inter_d9825c', '__Inter_Fallback_d9825c';--font-spoqa:'__fontSpoqa_fca923', '__fontSpoqa_Fallback_fca923'}</style></head><body class="text-primary bg-primary transition-[background]"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="container mx-auto max-w-screen-md px-6 font-spoqa"><header class="flex justify-between py-6"><ul class="flex items-center gap-4"><li class="font-sans font-medium"><a class="text-tertiary hover:text-secondary" href="/">Home</a></li><li class="font-sans font-medium"><a class="text-primary font-bold hover:text-secondary" href="/blog">Blog</a></li><li class="font-sans font-medium"><a class="text-tertiary hover:text-secondary" href="/archives">Archives</a></li><li class="font-sans font-medium"><a class="text-tertiary hover:text-secondary" href="/about">About</a></li></ul></header><div class="fixed left-0 top-0 z-10 h-1.5 w-full origin-top-left bg-gradient-to-r from-blue-400 to-sky-600 dark:from-stone-700 dark:to-stone-200" style="transform:scaleX(0) translateZ(0)"></div><a class="mb-6 inline-block" href="/blog"><button aria-label="Back to posts" type="button" class="hover:bg-secondary flex h-9 items-center justify-center rounded-lg transition-all w-32"><div class="flex items-center text-md gap-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="14" width="14" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M8 7v4L2 6l6-5v4h5a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H8z"></path></g></svg><span>Back to posts</span></div></button></a><article><aside class="sticky top-12 hidden xl:block"><div class="absolute left-full w-64 rounded-2xl p-4"><h2 class="tracking-tight mb-4 text-lg font-bold">목차</h2><ul class="mb-2"><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all text-base hover:font-normal" href="/blog/module-cjs-esm#53dbd4d20f024258b565d41817efa70f">모듈(Module)</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#51acd588a82a4a0aafbd8420fe8d01ca">모듈의 일반적 특징</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all text-base hover:font-normal" href="/blog/module-cjs-esm#14b8e852c58a44c6abbfc77b2bf57e85">CJS와 ESM의 차이점</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#0bb73ed5e68e4806b0c2854aff3d9cb4">CommonJS (CJS)</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#096a7f861de6439eab63bd39f0f64c9e">ES Modules (ESM)</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all text-base hover:font-normal" href="/blog/module-cjs-esm#1922c6c24485418d911a522ec83fc2e9">경험한 오류들</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#dbc54c21b8d54c79a3e3ae2ba8ca6192">Config 파일에서 CJS를 사용하는 이유</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#5244ac9f8b364e6b9a61fad23841adfe">Axios module import 에러 (feat. Jest)</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-10 text-sm hover:font-normal" href="/blog/module-cjs-esm#70f6443f1eaa48588cf4a05796764511">번외, src 폴더 내 이미지 파일 접근에 타입 오류</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all text-base hover:font-normal" href="/blog/module-cjs-esm#56816d365775463a9eefd339d637afad">마치며</a></li><li class="mb-1 font-light tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all ml-4 text-sm hover:font-normal" href="/blog/module-cjs-esm#cc092536333a435faa710fec663238c8">참조</a></li></ul><div class="bg-tag flex w-44 justify-between gap-2 rounded-xl px-4"><a href="/blog"><button aria-label="icon-button" type="button" class="hover:bg-secondary flex h-9 w-9 items-center justify-center rounded-lg transition-all"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M8 7v4L2 6l6-5v4h5a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H8z"></path></g></svg></button></a><button aria-label="icon-button" type="button" class="hover:bg-secondary flex h-9 w-9 items-center justify-center rounded-lg transition-all"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="22" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"></path></svg></button><button aria-label="icon-button" type="button" class="hover:bg-secondary flex h-9 w-9 items-center justify-center rounded-lg transition-all"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="22" width="22" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M14 22.5L11.2 19H6a1 1 0 0 1-1-1V7.103a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1V18a1 1 0 0 1-1 1h-5.2L14 22.5zm1.839-5.5H21V8.103H7V17H12.161L14 19.298 15.839 17zM2 2h17v2H3v11H1V3a1 1 0 0 1 1-1z"></path></g></svg></button></div></div></aside><section><h1 class="mb-2 break-keep text-center text-3xl font-bold">JS module 그리고 CJS와 ESM의 차이</h1><div class="flex items-center gap-1 text-tertiary mb-2 justify-center text-sm"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="14" width="14" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg><span>2023.10.26</span></div><div class="mb-4 flex justify-center gap-2"><a href="/archives/tags/JavaScript"><span class="inline-flex items-center rounded-md px-2 py-1 text-tertiary bg-tag text-xs font-medium hover:bg-secondary ring-1 ring-inset ring-gray-500/10 transition-all">JavaScript</span></a><a href="/archives/tags/module"><span class="inline-flex items-center rounded-md px-2 py-1 text-tertiary bg-tag text-xs font-medium hover:bg-secondary ring-1 ring-inset ring-gray-500/10 transition-all">module</span></a></div></section><section class="transition-all xl:hidden"><hr class="border-neutral-300 w-full border-1 mb-4 dark:border-neutral-400"/><h2 class="text-2xl font-bold tracking-tight mb-2 px-2"><div class="flex items-center gap-3 text-xl font-bold"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="25" width="25" xmlns="http://www.w3.org/2000/svg"><path d="M2 8C2 7.44772 2.44772 7 3 7H21C21.5523 7 22 7.44772 22 8C22 8.55228 21.5523 9 21 9H3C2.44772 9 2 8.55228 2 8Z" fill="currentColor"></path><path d="M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z" fill="currentColor"></path><path d="M3 15C2.44772 15 2 15.4477 2 16C2 16.5523 2.44772 17 3 17H15C15.5523 17 16 16.5523 16 16C16 15.4477 15.5523 15 15 15H3Z" fill="currentColor"></path></svg><span>Table of Contents</span></div></h2><ul class="px-2"><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#53dbd4d20f024258b565d41817efa70f"><div class="flex items-center gap-1 text-base"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>모듈(Module)</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#51acd588a82a4a0aafbd8420fe8d01ca"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>모듈의 일반적 특징</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#14b8e852c58a44c6abbfc77b2bf57e85"><div class="flex items-center gap-1 text-base"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>CJS와 ESM의 차이점</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#0bb73ed5e68e4806b0c2854aff3d9cb4"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>CommonJS (CJS)</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#096a7f861de6439eab63bd39f0f64c9e"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>ES Modules (ESM)</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#1922c6c24485418d911a522ec83fc2e9"><div class="flex items-center gap-1 text-base"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>경험한 오류들</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#dbc54c21b8d54c79a3e3ae2ba8ca6192"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>Config 파일에서 CJS를 사용하는 이유</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#5244ac9f8b364e6b9a61fad23841adfe"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>Axios module import 에러 (feat. Jest)</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#70f6443f1eaa48588cf4a05796764511"><div class="flex items-center gap-1 ml-16 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>번외, src 폴더 내 이미지 파일 접근에 타입 오류</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#56816d365775463a9eefd339d637afad"><div class="flex items-center gap-1 text-base"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>마치며</span></div></a></li><li class="mb-1 tracking-tighter"><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/module-cjs-esm#cc092536333a435faa710fec663238c8"><div class="flex items-center gap-1 ml-8 text-sm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"></path></svg><span>참조</span></div></a></li></ul></section><main class="notion dark-mode notion-page notion-block-6da47cc333844d528b34e0cf97e5caf9"><div class="notion-viewport"></div><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"></div></div></div><div class="notion-text notion-block-6619488db674473c956bdbd67f1c7e40">각종 프로젝트를 진행하며 CommonJS와 ESM에 대해 알고 있지만 <code class="notion-inline-code">require</code>, <code class="notion-inline-code">import</code> 와 같은 키워드들을 혼용하며 의문을 가지게 되었다. config와 같은 파일들은 CJS를 활용하는 반면 컴포넌트를 위한 파일들은 ESM을 통해 동작한다. 이를 하나로 통합하지 못하는 이유와 차이점, 그리고 내가 겪은 각종 오류들에 대해 작성해보고자 한다.</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-53dbd4d20f024258b565d41817efa70f" data-id="53dbd4d20f024258b565d41817efa70f"><span><div id="53dbd4d20f024258b565d41817efa70f" class="notion-header-anchor"></div><a class="notion-hash-link" href="#53dbd4d20f024258b565d41817efa70f" title="모듈(Module)"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">모듈(Module)</span></span></h2><div class="notion-text notion-block-ea7b50e106394d9f8f2854d933e47441">우선 CJS와 ESM이 생겨나게된 근간을 간단하게 살펴볼 이유가 있다. 애플리케이션의 규모가 작을 때는 괜찮지만 크기가 커지면 유지보수와 재사용을 위해 여러 파일로 분리하는 것이 효율적이다. 이 분리된 파일을 <b>모듈</b>이라고 부른다.</div><div class="notion-text notion-block-1b27919be3464b26ae42b0f244fad1b3">그리고 이러한 모듈을 효과적으로 불러오고 모듈 단위로 구성해주는 AMD, UMD, CommonJS와 같은 라이브러리들이 등장하게 된다. 이 중 CommonJS는 Node.js 서버를 위해 만들어진 모듈 시스템으로 엄밀히 말하자면 표준 시스템은 아니다.</div><div class="notion-text notion-block-2477a536857843799b5d8556e38044ab">ES6 이후에 ES Modules이 등장하고 표준으로 등록되며 익숙한 <code class="notion-inline-code">import</code>, <code class="notion-inline-code">export</code> 키워드를 사용해 모듈을 효과적으로 사용할 수 있게 되었다. 결과적으로 모듈의 개발로 SPA를 고통받지 않고 구현할 수 있게 되었다.</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-51acd588a82a4a0aafbd8420fe8d01ca" data-id="51acd588a82a4a0aafbd8420fe8d01ca"><span><div id="51acd588a82a4a0aafbd8420fe8d01ca" class="notion-header-anchor"></div><a class="notion-hash-link" href="#51acd588a82a4a0aafbd8420fe8d01ca" title="모듈의 일반적 특징"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">모듈의 일반적 특징</span></span></h3><ul class="notion-list notion-list-disc notion-block-dcfcbdc66b2f408596112bb8af6a0372"><li>파일 스코프(모듈 레벨 스코프)를 가진다.</li></ul><ul class="notion-list notion-list-disc notion-block-2443e24fa46b4aac87031f830ac02aa5"><li>선택적 공개가 가능하다(캡슐화) - <code class="notion-inline-code">export</code></li></ul><ul class="notion-list notion-list-disc notion-block-c00805b019574164ba2f5cd28e3019c4"><li>공개된 자산 중 일부 혹은 전체를 자신의 스코프 내로 불러들여 재사용이 가능하다. - <code class="notion-inline-code">import</code></li></ul><div class="notion-text notion-block-8fa0f5ca7c2048e18dd0607c2030f733">자바스크립트로 코딩을 하는 것은 변수를 관리하는 것과 같다는 말과 잘 어울리는 효율적인 변수 관리 방법이라고 할 수 있다.</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-14b8e852c58a44c6abbfc77b2bf57e85" data-id="14b8e852c58a44c6abbfc77b2bf57e85"><span><div id="14b8e852c58a44c6abbfc77b2bf57e85" class="notion-header-anchor"></div><a class="notion-hash-link" href="#14b8e852c58a44c6abbfc77b2bf57e85" title="CJS와 ESM의 차이점"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">CJS와 ESM의 차이점</span></span></h2><div class="notion-text notion-block-44070ce40cb146e88cda1fac13d1091f">CJS에서는 <code class="notion-inline-code">require</code>와 <code class="notion-inline-code">module.exports</code>를 ESM에서는 <code class="notion-inline-code">import</code>와 <code class="notion-inline-code">export</code>를 사용하고 이들 모두 방식은 다르지만 default export를 할 수 있다. 이제 CJS와 ESM의 간단한 사용법과 차이점 확인해보자.</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-0bb73ed5e68e4806b0c2854aff3d9cb4" data-id="0bb73ed5e68e4806b0c2854aff3d9cb4"><span><div id="0bb73ed5e68e4806b0c2854aff3d9cb4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0bb73ed5e68e4806b0c2854aff3d9cb4" title="CommonJS (CJS)"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">CommonJS (CJS)</span></span></h3><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">// util.js
module.exports.sum = (x, y) =&gt; x + y;
// main.js
const {sum} = require(&#x27;./util.js&#x27;);
console.log(sum(2, 4)); // 6</code></pre><ul class="notion-list notion-list-disc notion-block-fc9f9328797a4575943eb69bb4dd8257"><li>동기적 로드</li><ul class="notion-list notion-list-disc notion-block-fc9f9328797a4575943eb69bb4dd8257"><li>모듈이 필요한 시점에 즉시 로드되고 해당 모듈의 코드가 실행될 때까지 다음 진행이 차단된다. 브라우저 환경에서 차단은 성능 혹은 동작에 문제가 발생할 수 있다.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-3804a28dd39d4388881a0da9ec951908"><li>서버 사이드 혹은 런타임에서 사용</li></ul><ul class="notion-list notion-list-disc notion-block-63e5365406cb43a788c03acf582b6cb7"><li>Tree-shaking이 어려움</li><ul class="notion-list notion-list-disc notion-block-63e5365406cb43a788c03acf582b6cb7"><li>이는 번들의 크기에 영향을 미칠 수 있다.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-90c9d536fed54ecd9e503c8b02a06d32"><li>캐싱</li><ul class="notion-list notion-list-disc notion-block-90c9d536fed54ecd9e503c8b02a06d32"><li>같은 모듈이 여러번 로드되어도 한번만 실행된다. 이는 무한 루프를 방지하고 성능을 향상시킨다.</li></ul></ul><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-096a7f861de6439eab63bd39f0f64c9e" data-id="096a7f861de6439eab63bd39f0f64c9e"><span><div id="096a7f861de6439eab63bd39f0f64c9e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#096a7f861de6439eab63bd39f0f64c9e" title="ES Modules (ESM)"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title"><b>ES Modules (ESM)</b></span></span></h3><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">// util.js
export const sum = (x, y) =&gt; x + y;
// main.js
import { sum } from &#x27;./util.js&#x27;;
console.log(sum(2, 4)); // 6</code></pre><div class="notion-text notion-block-5592d5807df64e868e54499cc83bda21">CJS와는 다른 구성, 인스턴스화, 평가 단계를 거치며 다양한 특징들을 가지게 된다.</div><ul class="notion-list notion-list-disc notion-block-b5a8f432e531424c8e81f6a38f52e175"><li>비동기적 로드</li><ul class="notion-list notion-list-disc notion-block-b5a8f432e531424c8e81f6a38f52e175"><li>Top-Level Await를 지원하기 때문에 가능하다.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-106e13a1499f4a5e927dd24727804b36"><li>정적 분석</li><ul class="notion-list notion-list-disc notion-block-106e13a1499f4a5e927dd24727804b36"><li>빌드 타임에 모듈 의존성을 파악할 수 있어 불필요한 모듈을 불러오지 않고 최적화할 수 있다.</li><li>Tree-shaking을 쉽게 할 수 있다.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-8e6286c61c6b49a6a57ac84d2aa2606d"><li>dynamic import</li><ul class="notion-list notion-list-disc notion-block-8e6286c61c6b49a6a57ac84d2aa2606d"><li>리액트의 lazy, Next.JS의 dynamic처럼 번들러를 활용해 코드 스플리팅과 모듈 로딩 성능을 최적화할 수 있다.</li></ul></ul><div class="notion-blank notion-block-1f9c70130139462d8382399c6f4f3158"> </div><div class="notion-text notion-block-5c1542dae8aa443f86afb6ca3250e687">또한 CJS는 기본값으로 세팅되어 있다. 두 모듈 시스템은 또한 다른 파일 확장자(<code class="notion-inline-code">.cjs</code>, <code class="notion-inline-code">.mjs</code>)로 구분하고 <code class="notion-inline-code">package.json</code>에 <code class="notion-inline-code">“type”</code> 을 설정하여 프로젝트 단위의 값을 설정할 수 있다. 이러한 설정 이후에는 호환되지 않으며 ESM에서 CJS를 <code class="notion-inline-code">import</code>하는 것만 가능하다. 너무 많은 차이점을 가지고 있기 때문이다.</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-1922c6c24485418d911a522ec83fc2e9" data-id="1922c6c24485418d911a522ec83fc2e9"><span><div id="1922c6c24485418d911a522ec83fc2e9" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1922c6c24485418d911a522ec83fc2e9" title="경험한 오류들"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">경험한 오류들</span></span></h2><div class="notion-text notion-block-3e0057ff82de409a8f36b5830e12f144">학습과 프로젝트를 진행하면서 여러 오류들을 만났고 약간의 삽질 과정에서 여러 글들을 읽으며 위의 내용을 정리하게 되었다. 어떤 오류들이 있었는지 공유해보려고 한다.</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-dbc54c21b8d54c79a3e3ae2ba8ca6192" data-id="dbc54c21b8d54c79a3e3ae2ba8ca6192"><span><div id="dbc54c21b8d54c79a3e3ae2ba8ca6192" class="notion-header-anchor"></div><a class="notion-hash-link" href="#dbc54c21b8d54c79a3e3ae2ba8ca6192" title="Config 파일에서 CJS를 사용하는 이유"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Config 파일에서 CJS를 사용하는 이유</span></span></h3><div class="notion-text notion-block-08d678c178e24e239fabdabc7b629c2a">서론에 이야기했던 config 파일들에서는 대부분 <code class="notion-inline-code">require</code>, <code class="notion-inline-code">module.exports</code>를 활용해야 제대로 동작하는 것과 추가로 TS와 Lint는 오류를 발생시킨다. 여기서 궁금증이 생겨서 ESM으로 config를 변경하기 위해  <code class="notion-inline-code">package.json</code>에 <code class="notion-inline-code">&quot;type&quot;: &quot;module&quot;</code>을 설정하거나 파일명을 <code class="notion-inline-code">.mjs</code> 로 바꾸어 빌드와 동작까지 확인할 수 있었으나 어떤 라이브러리는 제대로 동작하지 않았다. 이 과정에서 CJS를 활용하는 몇가지 이유를 느끼게 되었다.</div><ul class="notion-list notion-list-disc notion-block-26fa203a6a92432f990b0b8e2f52e46c"><li>Node.js 환경 호환성</li><ul class="notion-list notion-list-disc notion-block-26fa203a6a92432f990b0b8e2f52e46c"><li>프론트엔드의 프레임워크 혹은 라이브러리의 config 파일은 보통 Node.js 환경에서 실행된다. 앞서 설명한 바와 같이 Node.js는 CJS를 모듈 시스템을 기본값으로 활용하기 때문에 별다른 설정을 해줄 필요가 없어 용이한 점이 있다.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-8c24ee8e0d384a879b3762ee4c29d80f"><li>CJS와 ESM 동작의 차이</li><ul class="notion-list notion-list-disc notion-block-8c24ee8e0d384a879b3762ee4c29d80f"><li><code class="notion-inline-code">require</code>는 동기로 동작이 이루어지고 ESM은 import와 export 구문을 바로 실행하지 않고 찾아 비동기 환경에서 동작하도록 한다. 이는 정확한 동작 순서 예측과 어떤 곳에서 문제가 발생하는지 찾기 어렵게 만든다.</li></ul></ul><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-5244ac9f8b364e6b9a61fad23841adfe" data-id="5244ac9f8b364e6b9a61fad23841adfe"><span><div id="5244ac9f8b364e6b9a61fad23841adfe" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5244ac9f8b364e6b9a61fad23841adfe" title="Axios module import 에러 (feat. Jest)"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Axios module import 에러 (feat. Jest)</span></span></h3><div class="notion-text notion-block-8bea08b143d24349a4482b96baed5cf6">Jest, React Testing Library를 활용한 리액트 테스트 강의를 들으며 발생했던 Axios 에러가 있다.  </div><div class="notion-text notion-block-a7125bffaa77430da01b8c2f6b30b46e"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/axios/axios/issues/5101">Axios issue 링크</a></div><div class="notion-text notion-block-8489f07c0b014d3780ca19e01f2880f8">원인으로는 Jest가 Node.js 환경에서 동작하고 ESM을 지원하지 못하여 CJS로 트랜스파일링하는 과정이 필요하다. 반면 Axios가 업데이트를 진행하며 ESM으로 수정하였고 여기서 Jest가 Axios를 트랜스파일링하지 않고 넘어가 문제가 발생했다.</div><div class="notion-text notion-block-5360a641182c4cee91721fad9f33eb03">해결하기 위해 package.json에 jest 설정을 추가함으로 오류를 해결할 수 있었다. Axios의 오류라고 생각했지만 Jest가 ESM을 지원하지 못하기 때문이 더 큰 이유였다.</div><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">{
	&quot;dependencies&quot;: {
	...
	&quot;jest&quot;: {
	    &quot;transformIgnorePatterns&quot;: [
	      &quot;node_modules/(?!axios)/&quot;
	    ]
	},
	...
}</code></pre><div class="notion-text notion-block-fe181ffc8c034c12bd7c42d4d60113e5">Axios는 v0.x에서 CJS만 사용하고 v1.x로 넘어오며 <code class="notion-inline-code">exports</code> 를 설정하며 ESM을 지원하기 시작했다. 이제는 CJS, ESM을 둘 다 지원하는 라이브러리는 거의 필수로 보인다. 물론 라이브러리 자체 사이즈가 더 커지는 것에 대한 문제가 발생할 수 있다. 하지만 여러 라이브러리들과 유기적으로 동작하는 과정에서 유연하게 동작하기 위해서 그리고 의존성을 낮추기 위해 둘 다 지원해야 할 수 밖에 없는 점이 있다.</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-70f6443f1eaa48588cf4a05796764511" data-id="70f6443f1eaa48588cf4a05796764511"><span><div id="70f6443f1eaa48588cf4a05796764511" class="notion-header-anchor"></div><a class="notion-hash-link" href="#70f6443f1eaa48588cf4a05796764511" title="번외, src 폴더 내 이미지 파일 접근에 타입 오류"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">번외, src 폴더 내 이미지 파일 접근에 타입 오류</span></span></h4><div class="notion-text notion-block-30bf84d1ffdd4f668687d7dbf9b15571">따로 준비한 image를 src 폴더 내에 저장하고 이를 활용하고 싶었으나 아래와 같은 오류가 발생했다. </div><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">Cannot find module &#x27;이미지 파일 경로&#x27; or its corresponding type declarations.</code></pre><div class="notion-text notion-block-60fa993b55c748a8a0c48294417e95dd"><code class="notion-inline-code">require</code>를 활용해서 우선 해결되어 CJS, ESM의 차이로 인한 문제라고 생각했으나 타입과 관련된 문제였다. import하는 과정에 타입이 설정되어야 하는데 이를 추론하지 못해 발생한 오류라고 생각된다.</div><div class="notion-text notion-block-0dec54526d5f4c1491d4f6f53a682e3d">해결하기 위해 다른 분들은 <code class="notion-inline-code">tsconfig.json</code>에  <code class="notion-inline-code">typeroot</code>를 따로 설정하는 것 같았으나 Craco로 세팅한 본인과 같은 경우는 따로 설정하지 않아도 괜찮았다. 타입 선언을 위해서 아래와 같은 코드를 types 폴더에 생성했다.</div><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">//images.d.ts
declare module &#x27;*.png&#x27;;
declare module &#x27;*.jpg&#x27;;
declare module &#x27;*.jpeg&#x27;;</code></pre><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-56816d365775463a9eefd339d637afad" data-id="56816d365775463a9eefd339d637afad"><span><div id="56816d365775463a9eefd339d637afad" class="notion-header-anchor"></div><a class="notion-hash-link" href="#56816d365775463a9eefd339d637afad" title="마치며"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">마치며</span></span></h2><div class="notion-text notion-block-fc4b64e8bebb4a0da4e8131f165fc693">모듈 시스템을 공부하며 Node.js에 조금 더 초점이 맞춰질 수 있는 부분이지만 프론트엔드에서 다양한 라이브러리를 접하기 때문에 오류들을 조금은 더 빠르게 이해하고 수정할 수 있는 능력을 가지게 되었다. 이후에 나만의 라이브러리를 만들게 될 때 주의해야할 점과 생각보다 복잡한 이 둘의 차이점을 이해하고 더 효율적인 시스템을 구축할 수 있을 것이라고 생각된다. </div><div class="notion-text notion-block-0d2bb398d2ca4b148ae602014d508e5f">그리고 5~6개 정도의 글을 읽으며 최대한 간략하게 정리하였다. 더 깊은 내용은 좋은 개발자 분들이 이미 정리해두었으니 이를 참조하면 좋을 것 같다.</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-cc092536333a435faa710fec663238c8" data-id="cc092536333a435faa710fec663238c8"><span><div id="cc092536333a435faa710fec663238c8" class="notion-header-anchor"></div><a class="notion-hash-link" href="#cc092536333a435faa710fec663238c8" title="참조"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">참조</span></span></h4><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-cfe693d3eb004c0b8cf605defcd36bda" href="https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/"><div><div class="notion-bookmark-title">ES modules: A cartoon deep-dive – Mozilla Hacks - the Web developer blog</div><div class="notion-bookmark-description">ES modules bring an official, standardized module system to JavaScript. With the release of Firefox 60 in May, all major browsers will support ES modules, and there is current work ...</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://www.notion.so/image/https%3A%2F%2Fhacks.mozilla.org%2Fwp-content%2Fthemes%2FHax%2Ffavicon.ico?table=block&amp;id=cfe693d3-eb00-4c0b-8cf6-05defcd36bda&amp;cache=v2" alt="ES modules: A cartoon deep-dive – Mozilla Hacks - the Web developer blog" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/</div></div></div><div class="notion-bookmark-image"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fhacks.mozilla.org%2Ffiles%2F2018%2F03%2F08_loader_as_puppeteer_2.png?table=block&amp;id=cfe693d3-eb00-4c0b-8cf6-05defcd36bda&amp;cache=v2" alt="ES modules: A cartoon deep-dive – Mozilla Hacks - the Web developer blog" loading="lazy" decoding="async"/></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-402a472fa59a4ac8856aac718cc38a77" href="https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1"><div><div class="notion-bookmark-title">redfin.engineering</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-text">https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1</div></div></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-dbeb0fbe497148089733915016f4e5de" href="https://toss.tech/article/commonjs-esm-exports-field"><div><div class="notion-bookmark-title">CommonJS와 ESM에 모두 대응하는 라이브러리 개발하기: exports field</div><div class="notion-bookmark-description">Node.js에는 두 가지 Module System이 존재합니다. 토스 프론트엔드 챕터에서 운영하는 100개가 넘는 라이브러리들은 그것에 어떻게 대응하고 있을까요?</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://www.notion.so/image/https%3A%2F%2Fstatic.toss.im%2Ftds%2Ffavicon%2Ffavicon-196x196.png?table=block&amp;id=dbeb0fbe-4971-4808-9733-915016f4e5de&amp;cache=v2" alt="CommonJS와 ESM에 모두 대응하는 라이브러리 개발하기: exports field" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://toss.tech/article/commonjs-esm-exports-field</div></div></div><div class="notion-bookmark-image"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fog.toss.tech%2F%3Ftitle%3DCommonJS%25EC%2599%2580%2520ESM%25EC%2597%2590%2520%25EB%25AA%25A8%25EB%2591%2590%2520%25EB%258C%2580%25EC%259D%2591%25ED%2595%2598%25EB%258A%2594%2520%25EB%259D%25BC%25EC%259D%25B4%25EB%25B8%258C%25EB%259F%25AC%25EB%25A6%25AC%2520%25EA%25B0%259C%25EB%25B0%259C%25ED%2595%2598%25EA%25B8%25B0%253A%2520exports%2520field%26imageUrl%3Dhttps%253A%252F%252Fstatic.toss.im%252Fassets%252Fhomepage%252Ftosstech%252Fog%252Ftechblog-11-node-js-og.png%26v%3D2?table=block&amp;id=dbeb0fbe-4971-4808-9733-915016f4e5de&amp;cache=v2" alt="CommonJS와 ESM에 모두 대응하는 라이브러리 개발하기: exports field" loading="lazy" decoding="async"/></div></a></div></main><hr class="border-neutral-300 dark:border-neutral-500 border-1 w-full my-6"/><section class="mb-12 flex justify-between px-2"><div><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/blog-scroll-spy"><div class="flex items-center gap-1 text-xs"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="14" width="14" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z"></path></g></svg><span>Prev</span></div><span class="tracking-tighter">블로그 스크롤 스파이(TOC) 구현기</span></a></div><div><a class="text-mute hover:text-primary inline-block transition-all" href="/blog/about-scroll-methods"><div class="flex items-center gap-1 text-xs justify-end"><span>Next</span><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="14" width="14" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"></path></g></svg></div><span class="tracking-tighter">Scroll method와 리액트에서 주의할 점</span></a></div></section><section></section></article><hr class="border-neutral-300 dark:border-neutral-500 border-1 w-full my-8"/><footer class="mb-10 flex flex-col items-end text-sm"><div class="mx-auto mb-2 flex gap-2 text-xl sm:mx-0"><a target="_blank" href="mailto:minjae7728@gmail.com" rel="noreferrer" aria-label="check author&#x27;s email" class="text-tertiary hover:text-primary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M24 4.5v15c0 .85-.65 1.5-1.5 1.5H21V7.387l-9 6.463-9-6.463V21H1.5C.649 21 0 20.35 0 19.5v-15c0-.425.162-.8.431-1.068C.7 3.16 1.076 3 1.5 3H2l10 7.25L22 3h.5c.425 0 .8.162 1.069.432.27.268.431.643.431 1.068z"></path></svg></a><a target="_blank" href="https://github.com/mxx-kor" rel="noreferrer" aria-label="check author&#x27;s github" class="text-tertiary hover:text-primary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a target="_blank" href="https://www.linkedin.com/in/%EB%AF%BC%EC%9E%AC-%EA%B9%80-35a409204/" rel="noreferrer" aria-label="check author&#x27;s linkedin" class="text-tertiary hover:text-primary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><p class="text-tertiary mx-auto sm:mx-0"><span>© </span><a class="hover:text-primary hover:underline" href="/about">Minjae Kim</a><span> Powered by </span><a target="_blank" href="https://nextjs.org/" rel="noreferrer" class="hover:text-primary hover:underline">Next.js</a><span>, </span><a target="_blank" href="https://pages.github.com/" rel="noreferrer" class="hover:text-primary hover:underline">Github Pages</a><span>, </span><a target="_blank" href="https://developers.notion.com/" rel="noreferrer" class="hover:text-primary hover:underline">Notion API</a></p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"prevPost":{"object":"page","id":"2f519016-0752-47a6-9142-08cb1d04bd10","created_time":"2023-11-20T11:04:00.000Z","last_edited_time":"2023-11-21T08:33:00.000Z","created_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"last_edited_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"cover":null,"icon":null,"parent":{"type":"database_id","database_id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294"},"archived":false,"properties":{"Main":{"id":"H%60Il","type":"checkbox","checkbox":true},"Summary":{"id":"LkE%3E","type":"rich_text","rich_text":[{"type":"text","text":{"content":"Intersection observer 방식과 계산된 scrollY를 활용하는 방법 모두 확인해보자.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Intersection observer 방식과 계산된 scrollY를 활용하는 방법 모두 확인해보자.","href":null}]},"Tags":{"id":"Q%5B~X","type":"multi_select","multi_select":[{"id":"7982bf8b-df3e-4377-b1b9-84dc37c9ec2b","name":"개인 프로젝트","color":"default"},{"id":"dcc8bb71-28e8-4ef7-8f0b-1922c0daf129","name":"React","color":"brown"}]},"Title":{"id":"%5BeXF","type":"rich_text","rich_text":[{"type":"text","text":{"content":"블로그 스크롤 스파이(TOC) 구현기","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"블로그 스크롤 스파이(TOC) 구현기","href":null}]},"Slug":{"id":"title","type":"title","title":[{"type":"text","text":{"content":"blog-scroll-spy","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"blog-scroll-spy","href":null}]}},"url":"https://www.notion.so/blog-scroll-spy-2f519016075247a6914208cb1d04bd10","public_url":"https://longhaired-way-a70.notion.site/blog-scroll-spy-2f519016075247a6914208cb1d04bd10"},"post":{"object":"page","id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","created_time":"2023-10-26T07:22:00.000Z","last_edited_time":"2024-02-19T12:21:00.000Z","created_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"last_edited_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"cover":null,"icon":null,"parent":{"type":"database_id","database_id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294"},"archived":false,"properties":{"Main":{"id":"H%60Il","type":"checkbox","checkbox":false},"Summary":{"id":"LkE%3E","type":"rich_text","rich_text":[{"type":"text","text":{"content":"require, import 뭐가 다른지, 여러 오류를 통해 함께 살펴보자.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"require, import 뭐가 다른지, 여러 오류를 통해 함께 살펴보자.","href":null}]},"Tags":{"id":"Q%5B~X","type":"multi_select","multi_select":[{"id":"69e1ad87-e25d-44b0-865a-be86ed1589c4","name":"JavaScript","color":"blue"},{"id":"2bcdc16c-6690-496f-944a-f21d1db899b6","name":"module","color":"blue"}]},"Title":{"id":"%5BeXF","type":"rich_text","rich_text":[{"type":"text","text":{"content":"JS module 그리고 CJS와 ESM의 차이","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"JS module 그리고 CJS와 ESM의 차이","href":null}]},"Slug":{"id":"title","type":"title","title":[{"type":"text","text":{"content":"module-cjs-esm","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"module-cjs-esm","href":null}]}},"url":"https://www.notion.so/module-cjs-esm-6da47cc333844d528b34e0cf97e5caf9","public_url":"https://longhaired-way-a70.notion.site/module-cjs-esm-6da47cc333844d528b34e0cf97e5caf9","request_id":"750e037c-2812-4188-ac53-7db48735a2aa"},"nextPost":{"object":"page","id":"d370f701-4efb-4e4a-8ed5-bdcdec7a1738","created_time":"2023-10-08T09:32:00.000Z","last_edited_time":"2023-11-21T08:34:00.000Z","created_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"last_edited_by":{"object":"user","id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},"cover":null,"icon":null,"parent":{"type":"database_id","database_id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294"},"archived":false,"properties":{"Main":{"id":"H%60Il","type":"checkbox","checkbox":true},"Summary":{"id":"LkE%3E","type":"rich_text","rich_text":[{"type":"text","text":{"content":"scrollTo(), scrollBy(), scrollIntoView()를 살펴보자, 그런데 이제 flushSync를 곁들인…","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"scrollTo(), scrollBy(), scrollIntoView()를 살펴보자, 그런데 이제 flushSync를 곁들인…","href":null}]},"Tags":{"id":"Q%5B~X","type":"multi_select","multi_select":[{"id":"69e1ad87-e25d-44b0-865a-be86ed1589c4","name":"JavaScript","color":"blue"},{"id":"dcc8bb71-28e8-4ef7-8f0b-1922c0daf129","name":"React","color":"brown"},{"id":"755884b4-bddc-4cb4-9bc8-84d0d5d29955","name":"flushSync","color":"blue"}]},"Title":{"id":"%5BeXF","type":"rich_text","rich_text":[{"type":"text","text":{"content":"Scroll method와 리액트에서 주의할 점","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Scroll method와 리액트에서 주의할 점","href":null}]},"Slug":{"id":"title","type":"title","title":[{"type":"text","text":{"content":"about-scroll-methods","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"about-scroll-methods","href":null}]}},"url":"https://www.notion.so/about-scroll-methods-d370f7014efb4e4a8ed5bdcdec7a1738","public_url":"https://longhaired-way-a70.notion.site/about-scroll-methods-d370f7014efb4e4a8ed5bdcdec7a1738"},"recordMap":{"block":{"6da47cc3-3384-4d52-8b34-e0cf97e5caf9":{"value":{"id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","version":1340,"type":"page","properties":{"H`Il":[["No"]],"LkE\u003e":[["require, import 뭐가 다른지, 여러 오류를 통해 함께 살펴보자."]],"Q[~X":[["JavaScript,module"]],"[eXF":[["JS module 그리고 CJS와 ESM의 차이"]],"title":[["module-cjs-esm"]]},"content":["6619488d-b674-473c-956b-dbd67f1c7e40","53dbd4d2-0f02-4258-b565-d41817efa70f","ea7b50e1-0639-4d9f-8f28-54d933e47441","1b27919b-e346-4b26-ae42-b0f244fad1b3","2477a536-8578-4379-9b5d-8556e38044ab","51acd588-a82a-4a0a-afbd-8420fe8d01ca","dcfcbdc6-6b2f-4085-9611-2bb8af6a0372","2443e24f-a46b-4aac-8703-1f830ac02aa5","c00805b0-1957-4164-ba2f-5cd28e3019c4","8fa0f5ca-7c20-48e1-8dd0-607c2030f733","14b8e852-c58a-44c6-abbf-c77b2bf57e85","44070ce4-0cb1-46e8-8cda-1fac13d1091f","0bb73ed5-e68e-4806-b0c2-854aff3d9cb4","652c4245-2b9d-4263-a915-61e09b37292b","fc9f9328-797a-4575-943e-b69bb4dd8257","3804a28d-d39d-4388-881a-0da9ec951908","63e53654-06cb-43a7-88c0-3acf582b6cb7","90c9d536-fed5-4ecd-9e50-3c8b02a06d32","096a7f86-1de6-439e-ab63-bd39f0f64c9e","a918b8d2-1d63-41fe-ae9e-66c5a10951f9","5592d580-7df6-4e86-8e54-499cc83bda21","b5a8f432-e531-424c-8e81-f6a38f52e175","106e13a1-499f-4a5e-927d-d24727804b36","8e6286c6-1c6b-49a6-a57a-c84d2aa2606d","1f9c7013-0139-462d-8382-399c6f4f3158","5c1542da-e8aa-443f-86af-b6ca3250e687","1922c6c2-4485-418d-911a-522ec83fc2e9","3e0057ff-82de-409a-8f36-b5830e12f144","dbc54c21-b8d5-4c79-a3e3-ae2ba8ca6192","08d678c1-78e2-4e23-9fab-dabc7b629c2a","26fa203a-6a92-432f-990b-0b8e2f52e46c","8c24ee8e-0d38-4a87-9b37-62ee4c29d80f","5244ac9f-8b36-4e6b-9a61-fad23841adfe","8bea08b1-43d2-4349-a448-2b96baed5cf6","a7125bff-aa77-430d-a01b-8c2f6b30b46e","8489f07c-0b01-4d37-80ca-19e01f2880f8","5360a641-182c-4cee-9172-1fad9f33eb03","b5fe887c-b0d1-414d-bf47-cca4843750d1","fe181ffc-8c03-4c12-bd7c-42d4d60113e5","70f6443f-1eaa-4858-8cf4-a05796764511","30bf84d1-ffdd-4f66-8687-d7dbf9b15571","1250c892-f071-456a-a963-7762057cb310","60fa993b-55c7-48a8-a0c4-8294417e95dd","0dec5452-6d5f-4c14-91d4-f6f53a682e3d","6dc5d2a8-cb46-4ca4-9a42-3c2cdd17e462","56816d36-5775-463a-9eef-d339d637afad","fc4b64e8-bebb-4a0d-a4e8-131f165fc693","0d2bb398-d2ca-4b14-8ae6-02014d508e5f","cc092536-333a-435f-aa71-0fec663238c8","cfe693d3-eb00-4c0b-8cf6-05defcd36bda","402a472f-a59a-4ac8-856a-ac718cc38a77","dbeb0fbe-4971-4808-9733-915016f4e5de"],"created_time":1698304950974,"last_edited_time":1708345297269,"parent_id":"77251464-f92c-498c-8ec6-b1ee5950601b","parent_table":"collection","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"f49dbc55-2ac0-4786-b9e3-4b9522a6a294":{"value":{"id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294","version":117,"type":"collection_view","view_ids":["2943edd6-04c4-497c-9810-5b340d73025b"],"collection_id":"77251464-f92c-498c-8ec6-b1ee5950601b","format":{"collection_pointer":{"id":"77251464-f92c-498c-8ec6-b1ee5950601b","table":"collection","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6"},{"role":"reader","type":"public_permission","added_timestamp":1688473010972,"allow_duplicate":false},{"type":"restricted_permission"},{"role":{"read_content":true},"type":"bot_permission","bot_id":"95ebcfc3-c78e-4f51-8a1d-715c5aee0b0b","parent_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e","parent_table":"space"}],"created_time":1688471518135,"last_edited_time":1708345320708,"parent_id":"6da363e3-8c9b-4c93-a407-b2dfdda51a20","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"6619488d-b674-473c-956b-dbd67f1c7e40":{"value":{"id":"6619488d-b674-473c-956b-dbd67f1c7e40","version":1700,"type":"text","properties":{"title":[["각종 프로젝트를 진행하며 CommonJS와 ESM에 대해 알고 있지만 "],["require",[["c"]]],[", "],["import",[["c"]]],[" 와 같은 키워드들을 혼용하며 의문을 가지게 되었다. config와 같은 파일들은 CJS를 활용하는 반면 컴포넌트를 위한 파일들은 ESM을 통해 동작한다. 이를 하나로 통합하지 못하는 이유와 차이점, 그리고 내가 겪은 각종 오류들에 대해 작성해보고자 한다."]]},"created_time":1698315573621,"last_edited_time":1698316224142,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"53dbd4d2-0f02-4258-b565-d41817efa70f":{"value":{"id":"53dbd4d2-0f02-4258-b565-d41817efa70f","version":43,"type":"header","properties":{"title":[["모듈(Module)"]]},"created_time":1698316009242,"last_edited_time":1698317259367,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"ea7b50e1-0639-4d9f-8f28-54d933e47441":{"value":{"id":"ea7b50e1-0639-4d9f-8f28-54d933e47441","version":1546,"type":"text","properties":{"title":[["우선 CJS와 ESM이 생겨나게된 근간을 간단하게 살펴볼 이유가 있다. 애플리케이션의 규모가 작을 때는 괜찮지만 크기가 커지면 유지보수와 재사용을 위해 여러 파일로 분리하는 것이 효율적이다. 이 분리된 파일을 "],["모듈",[["b"]]],["이라고 부른다."]]},"format":{"copied_from_pointer":{"id":"bb0acbf5-539d-4fb6-8f3a-8598c4d88f67","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698316075231,"last_edited_time":1698386197909,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"copied_from":"bb0acbf5-539d-4fb6-8f3a-8598c4d88f67","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"1b27919b-e346-4b26-ae42-b0f244fad1b3":{"value":{"id":"1b27919b-e346-4b26-ae42-b0f244fad1b3","version":1294,"type":"text","properties":{"title":[["그리고 이러한 모듈을 효과적으로 불러오고 모듈 단위로 구성해주는 AMD, UMD, CommonJS와 같은 라이브러리들이 등장하게 된다. 이 중 CommonJS는 Node.js 서버를 위해 만들어진 모듈 시스템으로 엄밀히 말하자면 표준 시스템은 아니다."]]},"format":{"copied_from_pointer":{"id":"84747f5c-8356-4713-96ff-5c01f97369b4","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698316075232,"last_edited_time":1698318906028,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"copied_from":"84747f5c-8356-4713-96ff-5c01f97369b4","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"2477a536-8578-4379-9b5d-8556e38044ab":{"value":{"id":"2477a536-8578-4379-9b5d-8556e38044ab","version":910,"type":"text","properties":{"title":[["ES6 이후에 ES Modules이 등장하고 표준으로 등록되며 익숙한 "],["import",[["c"]]],[", "],["export",[["c"]]],[" 키워드를 사용해 모듈을 효과적으로 사용할 수 있게 되었다. 결과적으로 모듈의 개발로 SPA를 고통받지 않고 구현할 수 있게 되었다."]]},"created_time":1698317729120,"last_edited_time":1698385174772,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"51acd588-a82a-4a0a-afbd-8420fe8d01ca":{"value":{"id":"51acd588-a82a-4a0a-afbd-8420fe8d01ca","version":115,"type":"sub_header","properties":{"title":[["모듈의 일반적 특징"]]},"created_time":1698333150252,"last_edited_time":1698333957741,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"dcfcbdc6-6b2f-4085-9611-2bb8af6a0372":{"value":{"id":"dcfcbdc6-6b2f-4085-9611-2bb8af6a0372","version":147,"type":"bulleted_list","properties":{"title":[["파일 스코프(모듈 레벨 스코프)를 가진다."]]},"created_time":1698333156743,"last_edited_time":1698333721346,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"2443e24f-a46b-4aac-8703-1f830ac02aa5":{"value":{"id":"2443e24f-a46b-4aac-8703-1f830ac02aa5","version":249,"type":"bulleted_list","properties":{"title":[["선택적 공개가 가능하다(캡슐화) - "],["export",[["c"]]]]},"created_time":1698333333788,"last_edited_time":1698333606977,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"c00805b0-1957-4164-ba2f-5cd28e3019c4":{"value":{"id":"c00805b0-1957-4164-ba2f-5cd28e3019c4","version":382,"type":"bulleted_list","properties":{"title":[["공개된 자산 중 일부 혹은 전체를 자신의 스코프 내로 불러들여 재사용이 가능하다. - "],["import",[["c"]]]]},"created_time":1698333371243,"last_edited_time":1698333417271,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"8fa0f5ca-7c20-48e1-8dd0-607c2030f733":{"value":{"id":"8fa0f5ca-7c20-48e1-8dd0-607c2030f733","version":671,"type":"text","properties":{"title":[["자바스크립트로 코딩을 하는 것은 변수를 관리하는 것과 같다는 말과 잘 어울리는 효율적인 변수 관리 방법이라고 할 수 있다."]]},"created_time":1698333615868,"last_edited_time":1698386209407,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"14b8e852-c58a-44c6-abbf-c77b2bf57e85":{"value":{"id":"14b8e852-c58a-44c6-abbf-c77b2bf57e85","version":17,"type":"header","properties":{"title":[["CJS와 ESM의 차이점"]]},"created_time":1698386170901,"last_edited_time":1698386223864,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"44070ce4-0cb1-46e8-8cda-1fac13d1091f":{"value":{"id":"44070ce4-0cb1-46e8-8cda-1fac13d1091f","version":856,"type":"text","properties":{"title":[["CJS에서는 "],["require",[["c"]]],["와 "],["module.exports",[["c"]]],["를 ESM에서는 "],["import",[["c"]]],["와 "],["export",[["c"]]],["를 사용하고 이들 모두 방식은 다르지만 default export를 할 수 있다. 이제 CJS와 ESM의 간단한 사용법과 차이점 확인해보자."]]},"format":{"copied_from_pointer":{"id":"97f7e1ce-291b-44f3-8627-c68eef57815b","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698386171460,"last_edited_time":1698388061707,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"copied_from":"97f7e1ce-291b-44f3-8627-c68eef57815b","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"0bb73ed5-e68e-4806-b0c2-854aff3d9cb4":{"value":{"id":"0bb73ed5-e68e-4806-b0c2-854aff3d9cb4","version":27,"type":"sub_header","properties":{"title":[["CommonJS (CJS)"]]},"created_time":1698388061704,"last_edited_time":1698388067861,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"652c4245-2b9d-4263-a915-61e09b37292b":{"value":{"id":"652c4245-2b9d-4263-a915-61e09b37292b","version":338,"type":"code","properties":{"title":[["// util.js\nmodule.exports.sum = (x, y) =\u003e x + y;\n// main.js\nconst {sum} = require('./util.js');\nconsole.log(sum(2, 4)); // 6"]],"language":[["JavaScript"]]},"created_time":1698386297280,"last_edited_time":1698386870617,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"fc9f9328-797a-4575-943e-b69bb4dd8257":{"value":{"id":"fc9f9328-797a-4575-943e-b69bb4dd8257","version":6,"type":"bulleted_list","properties":{"title":[["동기적 로드"]]},"content":["b6a68f98-08e9-407e-be2b-b5390f9191ee"],"created_time":1698388033468,"last_edited_time":1698390604600,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"b6a68f98-08e9-407e-be2b-b5390f9191ee":{"value":{"id":"b6a68f98-08e9-407e-be2b-b5390f9191ee","version":7,"type":"bulleted_list","properties":{"title":[["모듈이 필요한 시점에 즉시 로드되고 해당 모듈의 코드가 실행될 때까지 다음 진행이 차단된다. 브라우저 환경에서 차단은 성능 혹은 동작에 문제가 발생할 수 있다."]]},"format":{"copied_from_pointer":{"id":"283e90ec-1c8f-45cd-8b40-4e2b2a16a679","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698388558451,"last_edited_time":1698390604600,"parent_id":"fc9f9328-797a-4575-943e-b69bb4dd8257","parent_table":"block","alive":true,"copied_from":"283e90ec-1c8f-45cd-8b40-4e2b2a16a679","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"3804a28d-d39d-4388-881a-0da9ec951908":{"value":{"id":"3804a28d-d39d-4388-881a-0da9ec951908","version":122,"type":"bulleted_list","properties":{"title":[["서버 사이드 혹은 런타임에서 사용"]]},"created_time":1698388561601,"last_edited_time":1698388613608,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"63e53654-06cb-43a7-88c0-3acf582b6cb7":{"value":{"id":"63e53654-06cb-43a7-88c0-3acf582b6cb7","version":139,"type":"bulleted_list","properties":{"title":[["Tree-shaking이 어려움"]]},"content":["03a7cb47-8a0a-4b52-bc6e-f846c46a64c6"],"created_time":1698388592454,"last_edited_time":1698388637493,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"03a7cb47-8a0a-4b52-bc6e-f846c46a64c6":{"value":{"id":"03a7cb47-8a0a-4b52-bc6e-f846c46a64c6","version":173,"type":"bulleted_list","properties":{"title":[["이는 번들의 크기에 영향을 미칠 수 있다."]]},"created_time":1698388637354,"last_edited_time":1698388648235,"parent_id":"63e53654-06cb-43a7-88c0-3acf582b6cb7","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"90c9d536-fed5-4ecd-9e50-3c8b02a06d32":{"value":{"id":"90c9d536-fed5-4ecd-9e50-3c8b02a06d32","version":26,"type":"bulleted_list","properties":{"title":[["캐싱"]]},"content":["5220ea2b-3205-4e72-8620-dd376f68159c"],"created_time":1698388618385,"last_edited_time":1698388890858,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"5220ea2b-3205-4e72-8620-dd376f68159c":{"value":{"id":"5220ea2b-3205-4e72-8620-dd376f68159c","version":598,"type":"bulleted_list","properties":{"title":[["같은 모듈이 여러번 로드되어도 한번만 실행된다. 이는 무한 루프를 방지하고 성능을 향상시킨다."]]},"created_time":1698388819439,"last_edited_time":1698394525444,"parent_id":"90c9d536-fed5-4ecd-9e50-3c8b02a06d32","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"096a7f86-1de6-439e-ab63-bd39f0f64c9e":{"value":{"id":"096a7f86-1de6-439e-ab63-bd39f0f64c9e","version":14,"type":"sub_header","properties":{"title":[["ES Modules (ESM)",[["b"]]]]},"created_time":1698385188479,"last_edited_time":1698388997906,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"a918b8d2-1d63-41fe-ae9e-66c5a10951f9":{"value":{"id":"a918b8d2-1d63-41fe-ae9e-66c5a10951f9","version":118,"type":"code","properties":{"title":[["// util.js\nexport const sum = (x, y) =\u003e x + y;\n// main.js\nimport { sum } from './util.js';\nconsole.log(sum(2, 4)); // 6"]],"language":[["JavaScript"]]},"format":{"copied_from_pointer":{"id":"652c4245-2b9d-4263-a915-61e09b37292b","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698386959483,"last_edited_time":1698387014981,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"copied_from":"652c4245-2b9d-4263-a915-61e09b37292b","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"5592d580-7df6-4e86-8e54-499cc83bda21":{"value":{"id":"5592d580-7df6-4e86-8e54-499cc83bda21","version":365,"type":"text","properties":{"title":[["CJS와는 다른 구성, 인스턴스화, 평가 단계를 거치며 다양한 특징들을 가지게 된다."]]},"created_time":1698385188479,"last_edited_time":1698390124987,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"b5a8f432-e531-424c-8e81-f6a38f52e175":{"value":{"id":"b5a8f432-e531-424c-8e81-f6a38f52e175","version":6,"type":"bulleted_list","properties":{"title":[["비동기적 로드"]]},"content":["ddbee395-5c63-4879-8b8e-c9681c899a32"],"created_time":1698385188479,"last_edited_time":1698390108272,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"ddbee395-5c63-4879-8b8e-c9681c899a32":{"value":{"id":"ddbee395-5c63-4879-8b8e-c9681c899a32","version":562,"type":"bulleted_list","properties":{"title":[["Top-Level Await를 지원하기 때문에 가능하다."]]},"created_time":1698389130271,"last_edited_time":1698390108272,"parent_id":"b5a8f432-e531-424c-8e81-f6a38f52e175","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"106e13a1-499f-4a5e-927d-d24727804b36":{"value":{"id":"106e13a1-499f-4a5e-927d-d24727804b36","version":53,"type":"bulleted_list","properties":{"title":[["정적 분석"]]},"content":["52852ad5-a91a-4d82-ab78-c94f5e1813b7","94d92a66-d4c7-44b3-aeea-e9132fc91d0e"],"created_time":1698389380879,"last_edited_time":1698389936490,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"52852ad5-a91a-4d82-ab78-c94f5e1813b7":{"value":{"id":"52852ad5-a91a-4d82-ab78-c94f5e1813b7","version":536,"type":"bulleted_list","properties":{"title":[["빌드 타임에 모듈 의존성을 파악할 수 있어 불필요한 모듈을 불러오지 않고 최적화할 수 있다."]]},"created_time":1698389492578,"last_edited_time":1698389538878,"parent_id":"106e13a1-499f-4a5e-927d-d24727804b36","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"94d92a66-d4c7-44b3-aeea-e9132fc91d0e":{"value":{"id":"94d92a66-d4c7-44b3-aeea-e9132fc91d0e","version":204,"type":"bulleted_list","properties":{"title":[["Tree-shaking을 쉽게 할 수 있다."]]},"created_time":1698389539097,"last_edited_time":1698389935441,"parent_id":"106e13a1-499f-4a5e-927d-d24727804b36","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"8e6286c6-1c6b-49a6-a57a-c84d2aa2606d":{"value":{"id":"8e6286c6-1c6b-49a6-a57a-c84d2aa2606d","version":137,"type":"bulleted_list","properties":{"title":[["dynamic import"]]},"content":["7695084d-fbd1-4701-9d78-1223d39edbe0"],"created_time":1698389936020,"last_edited_time":1698390356507,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"7695084d-fbd1-4701-9d78-1223d39edbe0":{"value":{"id":"7695084d-fbd1-4701-9d78-1223d39edbe0","version":445,"type":"bulleted_list","properties":{"title":[["리액트의 lazy, Next.JS의 dynamic처럼 번들러를 활용해 코드 스플리팅과 모듈 로딩 성능을 최적화할 수 있다."]]},"created_time":1698390054837,"last_edited_time":1698390318367,"parent_id":"8e6286c6-1c6b-49a6-a57a-c84d2aa2606d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"1f9c7013-0139-462d-8382-399c6f4f3158":{"value":{"id":"1f9c7013-0139-462d-8382-399c6f4f3158","version":19,"type":"text","created_time":1698390356180,"last_edited_time":1698390564878,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"5c1542da-e8aa-443f-86af-b6ca3250e687":{"value":{"id":"5c1542da-e8aa-443f-86af-b6ca3250e687","version":902,"type":"text","properties":{"title":[["또한 CJS는 기본값으로 세팅되어 있다. 두 모듈 시스템은 또한 다른 파일 확장자("],[".cjs",[["c"]]],[", "],[".mjs",[["c"]]],[")로 구분하고 "],["package.json",[["c"]]],["에 "],["“type”",[["c"]]],[" 을 설정하여 프로젝트 단위의 값을 설정할 수 있다. 이러한 설정 이후에는 호환되지 않으며 ESM에서 CJS를 "],["import",[["c"]]],["하는 것만 가능하다. 너무 많은 차이점을 가지고 있기 때문이다."]]},"created_time":1698390356180,"last_edited_time":1698390839214,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"1922c6c2-4485-418d-911a-522ec83fc2e9":{"value":{"id":"1922c6c2-4485-418d-911a-522ec83fc2e9","version":9,"type":"header","properties":{"title":[["경험한 오류들"]]},"created_time":1698385188479,"last_edited_time":1698390482367,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"3e0057ff-82de-409a-8f36-b5830e12f144":{"value":{"id":"3e0057ff-82de-409a-8f36-b5830e12f144","version":1677,"type":"text","properties":{"title":[["학습과 프로젝트를 진행하면서 여러 오류들을 만났고 약간의 삽질 과정에서 여러 글들을 읽으며 위의 내용을 정리하게 되었다. 어떤 오류들이 있었는지 공유해보려고 한다."]]},"created_time":1698385692233,"last_edited_time":1698391207973,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"dbc54c21-b8d5-4c79-a3e3-ae2ba8ca6192":{"value":{"id":"dbc54c21-b8d5-4c79-a3e3-ae2ba8ca6192","version":292,"type":"sub_header","properties":{"title":[["Config 파일에서 CJS를 사용하는 이유"]]},"created_time":1698318324873,"last_edited_time":1698385205568,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"08d678c1-78e2-4e23-9fab-dabc7b629c2a":{"value":{"id":"08d678c1-78e2-4e23-9fab-dabc7b629c2a","version":1716,"type":"text","properties":{"title":[["서론에 이야기했던 config 파일들에서는 대부분 "],["require",[["c"]]],[", "],["module.exports",[["c"]]],["를 활용해야 제대로 동작하는 것과 추가로 TS와 Lint는 오류를 발생시킨다. 여기서 궁금증이 생겨서 ESM으로 config를 변경하기 위해  "],["package.json",[["c"]]],["에 "],["\"type\": \"module\"",[["c"]]],["을 설정하거나 파일명을 "],[".mjs",[["c"]]],[" 로 바꾸어 빌드와 동작까지 확인할 수 있었으나 어떤 라이브러리는 제대로 동작하지 않았다. 이 과정에서 CJS를 활용하는 몇가지 이유를 느끼게 되었다."]]},"created_time":1698318363146,"last_edited_time":1698385562598,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"26fa203a-6a92-432f-990b-0b8e2f52e46c":{"value":{"id":"26fa203a-6a92-432f-990b-0b8e2f52e46c","version":22,"type":"bulleted_list","properties":{"title":[["Node.js 환경 호환성"]]},"content":["c0fdbe01-5e68-4e95-8ec1-0a0d70d835d6"],"created_time":1698320715797,"last_edited_time":1698320826930,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"c0fdbe01-5e68-4e95-8ec1-0a0d70d835d6":{"value":{"id":"c0fdbe01-5e68-4e95-8ec1-0a0d70d835d6","version":988,"type":"bulleted_list","properties":{"title":[["프론트엔드의 프레임워크 혹은 라이브러리의 config 파일은 보통 Node.js 환경에서 실행된다. 앞서 설명한 바와 같이 Node.js는 CJS를 모듈 시스템을 기본값으로 활용하기 때문에 별다른 설정을 해줄 필요가 없어 용이한 점이 있다."]]},"created_time":1698320826804,"last_edited_time":1698321405614,"parent_id":"26fa203a-6a92-432f-990b-0b8e2f52e46c","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"8c24ee8e-0d38-4a87-9b37-62ee4c29d80f":{"value":{"id":"8c24ee8e-0d38-4a87-9b37-62ee4c29d80f","version":258,"type":"bulleted_list","properties":{"title":[["CJS와 ESM 동작의 차이"]]},"content":["6f42d204-f638-4c1f-95f6-1c2844300661"],"created_time":1698320730177,"last_edited_time":1698323181174,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"6f42d204-f638-4c1f-95f6-1c2844300661":{"value":{"id":"6f42d204-f638-4c1f-95f6-1c2844300661","version":1736,"type":"bulleted_list","properties":{"title":[["require",[["c"]]],["는 동기로 동작이 이루어지고 ESM은 import와 export 구문을 바로 실행하지 않고 찾아 비동기 환경에서 동작하도록 한다. 이는 정확한 동작 순서 예측과 어떤 곳에서 문제가 발생하는지 찾기 어렵게 만든다."]]},"created_time":1698320915924,"last_edited_time":1698323918279,"parent_id":"8c24ee8e-0d38-4a87-9b37-62ee4c29d80f","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"5244ac9f-8b36-4e6b-9a61-fad23841adfe":{"value":{"id":"5244ac9f-8b36-4e6b-9a61-fad23841adfe","version":255,"type":"sub_header","properties":{"title":[["Axios module import 에러 (feat. Jest)"]]},"created_time":1698335616908,"last_edited_time":1698392327863,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"8bea08b1-43d2-4349-a448-2b96baed5cf6":{"value":{"id":"8bea08b1-43d2-4349-a448-2b96baed5cf6","version":6,"type":"text","properties":{"title":[["Jest, React Testing Library를 활용한 리액트 테스트 강의를 들으며 발생했던 Axios 에러가 있다.  "]]},"created_time":1698392325404,"last_edited_time":1698392325712,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"a7125bff-aa77-430d-a01b-8c2f6b30b46e":{"value":{"id":"a7125bff-aa77-430d-a01b-8c2f6b30b46e","version":23,"type":"text","properties":{"title":[["Axios issue 링크",[["a","https://github.com/axios/axios/issues/5101"]]]]},"format":{"copied_from_pointer":{"id":"49877568-28ea-41b5-a502-fa4c76af0c90","table":"block","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"}},"created_time":1698392325709,"last_edited_time":1698656929346,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"copied_from":"49877568-28ea-41b5-a502-fa4c76af0c90","created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"8489f07c-0b01-4d37-80ca-19e01f2880f8":{"value":{"id":"8489f07c-0b01-4d37-80ca-19e01f2880f8","version":1869,"type":"text","properties":{"title":[["원인으로는 Jest가 Node.js 환경에서 동작하고 ESM을 지원하지 못하여 CJS로 트랜스파일링하는 과정이 필요하다. 반면 Axios가 업데이트를 진행하며 ESM으로 수정하였고 여기서 Jest가 Axios를 트랜스파일링하지 않고 넘어가 문제가 발생했다."]]},"created_time":1698335859263,"last_edited_time":1698656932990,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"5360a641-182c-4cee-9172-1fad9f33eb03":{"value":{"id":"5360a641-182c-4cee-9172-1fad9f33eb03","version":710,"type":"text","properties":{"title":[["해결하기 위해 package.json에 jest 설정을 추가함으로 오류를 해결할 수 있었다. Axios의 오류라고 생각했지만 Jest가 ESM을 지원하지 못하기 때문이 더 큰 이유였다."]]},"created_time":1698392008770,"last_edited_time":1698392464795,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"b5fe887c-b0d1-414d-bf47-cca4843750d1":{"value":{"id":"b5fe887c-b0d1-414d-bf47-cca4843750d1","version":170,"type":"code","properties":{"title":[["{\n\t\"dependencies\": {\n\t...\n\t\"jest\": {\n\t    \"transformIgnorePatterns\": [\n\t      \"node_modules/(?!axios)/\"\n\t    ]\n\t},\n\t...\n}"]],"language":[["JavaScript"]]},"created_time":1698392469572,"last_edited_time":1698392540242,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"fe181ffc-8c03-4c12-bd7c-42d4d60113e5":{"value":{"id":"fe181ffc-8c03-4c12-bd7c-42d4d60113e5","version":3036,"type":"text","properties":{"title":[["Axios는 v0.x에서 CJS만 사용하고 v1.x로 넘어오며 "],["exports",[["c"]]],[" 를 설정하며 ESM을 지원하기 시작했다. 이제는 CJS, ESM을 둘 다 지원하는 라이브러리는 거의 필수로 보인다. 물론 라이브러리 자체 사이즈가 더 커지는 것에 대한 문제가 발생할 수 있다. 하지만 여러 라이브러리들과 유기적으로 동작하는 과정에서 유연하게 동작하기 위해서 그리고 의존성을 낮추기 위해 둘 다 지원해야 할 수 밖에 없는 점이 있다."]]},"created_time":1698334069615,"last_edited_time":1698657253900,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"70f6443f-1eaa-4858-8cf4-a05796764511":{"value":{"id":"70f6443f-1eaa-4858-8cf4-a05796764511","version":5,"type":"sub_sub_header","properties":{"title":[["번외, src 폴더 내 이미지 파일 접근에 타입 오류"]]},"created_time":1698334069615,"last_edited_time":1698393433761,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"30bf84d1-ffdd-4f66-8687-d7dbf9b15571":{"value":{"id":"30bf84d1-ffdd-4f66-8687-d7dbf9b15571","version":395,"type":"text","properties":{"title":[["따로 준비한 image를 src 폴더 내에 저장하고 이를 활용하고 싶었으나 아래와 같은 오류가 발생했다. "]]},"created_time":1698392979849,"last_edited_time":1698393034348,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"1250c892-f071-456a-a963-7762057cb310":{"value":{"id":"1250c892-f071-456a-a963-7762057cb310","version":128,"type":"code","properties":{"title":[["Cannot find module '이미지 파일 경로' or its corresponding type declarations."]],"language":[["JavaScript"]]},"created_time":1698392919430,"last_edited_time":1698393105585,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"60fa993b-55c7-48a8-a0c4-8294417e95dd":{"value":{"id":"60fa993b-55c7-48a8-a0c4-8294417e95dd","version":1733,"type":"text","properties":{"title":[["require",[["c"]]],["를 활용해서 우선 해결되어 CJS, ESM의 차이로 인한 문제라고 생각했으나 타입과 관련된 문제였다. import하는 과정에 타입이 설정되어야 하는데 이를 추론하지 못해 발생한 오류라고 생각된다."]]},"created_time":1698322220105,"last_edited_time":1698393378779,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"0dec5452-6d5f-4c14-91d4-f6f53a682e3d":{"value":{"id":"0dec5452-6d5f-4c14-91d4-f6f53a682e3d","version":57,"type":"text","properties":{"title":[["해결하기 위해 다른 분들은 "],["tsconfig.json",[["c"]]],["에  "],["typeroot",[["c"]]],["를 따로 설정하는 것 같았으나 Craco로 세팅한 본인과 같은 경우는 따로 설정하지 않아도 괜찮았다. 타입 선언을 위해서 아래와 같은 코드를 types 폴더에 생성했다."]]},"created_time":1698393378776,"last_edited_time":1698393380643,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"6dc5d2a8-cb46-4ca4-9a42-3c2cdd17e462":{"value":{"id":"6dc5d2a8-cb46-4ca4-9a42-3c2cdd17e462","version":42,"type":"code","properties":{"title":[["//images.d.ts\ndeclare module '*.png';\ndeclare module '*.jpg';\ndeclare module '*.jpeg';"]],"language":[["JavaScript"]]},"created_time":1698392741724,"last_edited_time":1698393135681,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"56816d36-5775-463a-9eef-d339d637afad":{"value":{"id":"56816d36-5775-463a-9eef-d339d637afad","version":32,"type":"header","properties":{"title":[["마치며"]]},"created_time":1698315963114,"last_edited_time":1698393411801,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"fc4b64e8-bebb-4a0d-a4e8-131f165fc693":{"value":{"id":"fc4b64e8-bebb-4a0d-a4e8-131f165fc693","version":15,"type":"text","properties":{"title":[["모듈 시스템을 공부하며 Node.js에 조금 더 초점이 맞춰질 수 있는 부분이지만 프론트엔드에서 다양한 라이브러리를 접하기 때문에 오류들을 조금은 더 빠르게 이해하고 수정할 수 있는 능력을 가지게 되었다. 이후에 나만의 라이브러리를 만들게 될 때 주의해야할 점과 생각보다 복잡한 이 둘의 차이점을 이해하고 더 효율적인 시스템을 구축할 수 있을 것이라고 생각된다. "]]},"created_time":1698393412106,"last_edited_time":1698393875402,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"0d2bb398-d2ca-4b14-8ae6-02014d508e5f":{"value":{"id":"0d2bb398-d2ca-4b14-8ae6-02014d508e5f","version":83,"type":"text","properties":{"title":[["그리고 5~6개 정도의 글을 읽으며 최대한 간략하게 정리하였다. 더 깊은 내용은 좋은 개발자 분들이 이미 정리해두었으니 이를 참조하면 좋을 것 같다."]]},"created_time":1698393875397,"last_edited_time":1698393979830,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"cc092536-333a-435f-aa71-0fec663238c8":{"value":{"id":"cc092536-333a-435f-aa71-0fec663238c8","version":28,"type":"sub_sub_header","properties":{"title":[["참조"]]},"created_time":1698393906642,"last_edited_time":1698393910537,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"cfe693d3-eb00-4c0b-8cf6-05defcd36bda":{"value":{"id":"cfe693d3-eb00-4c0b-8cf6-05defcd36bda","version":10,"type":"bookmark","properties":{"link":[["https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/"]],"title":[["ES modules: A cartoon deep-dive – Mozilla Hacks - the Web developer blog"]],"description":[["ES modules bring an official, standardized module system to JavaScript. With the release of Firefox 60 in May, all major browsers will support ES modules, and there is current work ..."]]},"format":{"bookmark_icon":"https://hacks.mozilla.org/wp-content/themes/Hax/favicon.ico","bookmark_cover":"https://hacks.mozilla.org/files/2018/03/08_loader_as_puppeteer_2.png"},"created_time":1698393914992,"last_edited_time":1698393914998,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"402a472f-a59a-4ac8-856a-ac718cc38a77":{"value":{"id":"402a472f-a59a-4ac8-856a-ac718cc38a77","version":10,"type":"bookmark","properties":{"link":[["https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1"]]},"created_time":1698393956915,"last_edited_time":1698393956921,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"},"dbeb0fbe-4971-4808-9733-915016f4e5de":{"value":{"id":"dbeb0fbe-4971-4808-9733-915016f4e5de","version":10,"type":"bookmark","properties":{"link":[["https://toss.tech/article/commonjs-esm-exports-field"]],"title":[["CommonJS와 ESM에 모두 대응하는 라이브러리 개발하기: exports field"]],"description":[["Node.js에는 두 가지 Module System이 존재합니다. 토스 프론트엔드 챕터에서 운영하는 100개가 넘는 라이브러리들은 그것에 어떻게 대응하고 있을까요?"]]},"format":{"bookmark_icon":"https://static.toss.im/tds/favicon/favicon-196x196.png","bookmark_cover":"https://og.toss.tech/?title=CommonJS%EC%99%80%20ESM%EC%97%90%20%EB%AA%A8%EB%91%90%20%EB%8C%80%EC%9D%91%ED%95%98%EB%8A%94%20%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%20%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0%3A%20exports%20field\u0026imageUrl=https%3A%2F%2Fstatic.toss.im%2Fassets%2Fhomepage%2Ftosstech%2Fog%2Ftechblog-11-node-js-og.png\u0026v=2"},"created_time":1698657279639,"last_edited_time":1698657279644,"parent_id":"6da47cc3-3384-4d52-8b34-e0cf97e5caf9","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","last_edited_by_table":"notion_user","last_edited_by_id":"b3d94135-cbdf-428e-a8a5-8801e91b70e6","space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"}},"collection":{"77251464-f92c-498c-8ec6-b1ee5950601b":{"value":{"id":"77251464-f92c-498c-8ec6-b1ee5950601b","version":82,"name":[["포스팅"]],"schema":{"H`Il":{"name":"Main","type":"checkbox"},"LkE\u003e":{"name":"Summary","type":"text"},"Q[~X":{"name":"Tags","type":"multi_select","options":[{"id":"036731bb-69f1-47c2-899c-76ebd0c4c21d","color":"purple","value":"Next.js"},{"id":"e30a7966-4eb2-45a7-b1f3-314cd0d2c5b0","color":"default","value":"TailwindCSS"},{"id":"f1dcbd9b-69e5-4564-99d8-b65fb51b0090","color":"gray","value":"브라우저"},{"id":"dcc8bb71-28e8-4ef7-8f0b-1922c0daf129","color":"brown","value":"React"},{"id":"3ee98ab1-0b9d-430b-93da-cf2a2ca2f036","color":"pink","value":"lighthouse"},{"id":"eef9ed94-f853-4b17-a817-2ac412387220","color":"orange","value":"회고"},{"id":"15f9af90-4308-4dba-acf4-1565f1b3108b","color":"red","value":"팀 프로젝트"},{"id":"75511c74-11a3-492e-ac8a-8150f5e072b2","color":"green","value":"CS"},{"id":"7982bf8b-df3e-4377-b1b9-84dc37c9ec2b","color":"default","value":"개인 프로젝트"},{"id":"73ce9024-d165-44c8-8821-c0808ab04cb9","color":"yellow","value":"프론트엔드"},{"id":"4865bdba-a3d4-48bd-83a7-7458b532dc9e","color":"default","value":"metrics"},{"id":"755884b4-bddc-4cb4-9bc8-84d0d5d29955","color":"blue","value":"flushSync"},{"id":"69e1ad87-e25d-44b0-865a-be86ed1589c4","color":"blue","value":"JavaScript"},{"id":"b7b6126d-26cf-4a98-8057-873aad8b6cd4","color":"pink","value":"Notion"},{"id":"2bcdc16c-6690-496f-944a-f21d1db899b6","color":"blue","value":"module"},{"id":"d5eb76a7-b5a6-4de7-976f-fa76f907595d","color":"gray","value":"함수형 프로그래밍"},{"id":"2cfb94f8-487f-4e6a-9389-2485549661fe","color":"green","value":"websocket"}]},"[eXF":{"name":"Title","type":"text"},"title":{"name":"Slug","type":"title"}},"format":{"property_visibility":[{"property":"Q[~X","visibility":"hide"},{"property":"H`Il","visibility":"hide"},{"property":"LkE\u003e","visibility":"hide"},{"property":"[eXF","visibility":"hide"}],"collection_page_properties":[{"visible":true,"property":"Q[~X"}]},"parent_id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294","parent_table":"block","alive":true,"migrated":true,"space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e","deleted_schema":{"\u003eHgf":{"name":"AI 요약","type":"text","ai_inference":{"type":"summarize","auto_update_on_edit":false}}}},"role":"reader"}},"collection_view":{"2943edd6-04c4-497c-9810-5b340d73025b":{"value":{"id":"2943edd6-04c4-497c-9810-5b340d73025b","version":37,"type":"table","format":{"table_wrap":true,"table_properties":[{"width":77,"visible":true,"property":"H`Il"},{"width":167,"visible":true,"property":"title"},{"width":200,"visible":true,"property":"[eXF"},{"width":200,"visible":true,"property":"Q[~X"},{"width":200,"visible":true,"property":"LkE\u003e"}],"collection_pointer":{"id":"77251464-f92c-498c-8ec6-b1ee5950601b","table":"collection","spaceId":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"table_frozen_column_index":-1},"parent_id":"f49dbc55-2ac0-4786-b9e3-4b9522a6a294","parent_table":"block","alive":true,"page_sort":["df5fe329-5fa8-4852-826b-441b0ca8ed95","a92f06fe-b685-4060-8fe8-6e532683cde4","f32de19b-da8d-49cb-84ce-e509b82600ce","bd0a0d15-7c73-440d-a557-47e29417f68a","08cc1d27-2908-4a9b-a1cc-38db1009da25","d9717ebe-4fc8-4fd5-9336-393fabc3574b","876b9a0c-1d3d-486b-8f7e-2e550187fbcc","0b1f8158-2ece-49da-9c00-f95c4b657a41","b3fdc8c9-3b8f-48bd-91af-5ea70ce1193d","5973748b-61e7-4d92-999e-ad082353606f","6da84544-75f7-436a-8228-8df0315ac183","549d7ee1-51ab-445e-92a9-5d9851ebd792","adc18887-c0d6-4db5-908c-873d849a02ef","babf25bd-0c2c-43d8-98d9-b85ecadd83dc","55e39890-1d23-42ad-aa73-f4fe7d545329","d370f701-4efb-4e4a-8ed5-bdcdec7a1738","6da47cc3-3384-4d52-8b34-e0cf97e5caf9","2f519016-0752-47a6-9142-08cb1d04bd10","2f3ab74d-072f-40cc-a37f-55fe452f2b78","1470f218-8382-4dfb-bd46-defda19e2bda","dfe03591-04f5-4ff9-a101-b551112d7aa0","ca40eb29-4355-4fc0-9996-a1f2df00ae3b","11ad81a4-5904-437c-a419-80ba4058c34a","55776695-9cf1-47ac-ad84-8f83bd2ecf3c","be15ca6b-9722-434e-8904-9474982454fd"],"space_id":"7b0c1ebf-29f7-4bde-9810-55e79a3d582e"},"role":"reader"}},"space":{},"notion_user":{},"collection_query":{},"signed_urls":{}},"tableOfContents":[{"id":"53dbd4d2-0f02-4258-b565-d41817efa70f","type":"header","text":"모듈(Module)","indentLevel":0},{"id":"51acd588-a82a-4a0a-afbd-8420fe8d01ca","type":"sub_header","text":"모듈의 일반적 특징","indentLevel":1},{"id":"14b8e852-c58a-44c6-abbf-c77b2bf57e85","type":"header","text":"CJS와 ESM의 차이점","indentLevel":0},{"id":"0bb73ed5-e68e-4806-b0c2-854aff3d9cb4","type":"sub_header","text":"CommonJS (CJS)","indentLevel":1},{"id":"096a7f86-1de6-439e-ab63-bd39f0f64c9e","type":"sub_header","text":"ES Modules (ESM)","indentLevel":1},{"id":"1922c6c2-4485-418d-911a-522ec83fc2e9","type":"header","text":"경험한 오류들","indentLevel":0},{"id":"dbc54c21-b8d5-4c79-a3e3-ae2ba8ca6192","type":"sub_header","text":"Config 파일에서 CJS를 사용하는 이유","indentLevel":1},{"id":"5244ac9f-8b36-4e6b-9a61-fad23841adfe","type":"sub_header","text":"Axios module import 에러 (feat. Jest)","indentLevel":1},{"id":"70f6443f-1eaa-4858-8cf4-a05796764511","type":"sub_sub_header","text":"번외, src 폴더 내 이미지 파일 접근에 타입 오류","indentLevel":2},{"id":"56816d36-5775-463a-9eef-d339d637afad","type":"header","text":"마치며","indentLevel":0},{"id":"cc092536-333a-435f-aa71-0fec663238c8","type":"sub_sub_header","text":"참조","indentLevel":1}]},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"module-cjs-esm"},"buildId":"gyZObJThR8qBbFM1GzSbz","isFallback":false,"dynamicIds":[635,1794],"gsp":true,"scriptLoader":[]}</script></body></html>